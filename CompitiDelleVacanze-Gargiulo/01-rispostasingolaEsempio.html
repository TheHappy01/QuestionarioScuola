<!DOCTYPE html>
<!--
     Descrizione: Test di autovalutazione con quesito a singola risposta esatta

     Autore: Roberto FULIGNI
     Data: 18/05/2019

-->
<html>

<head>
    <meta charset="utf-8" />
    <title>Quesito a risposta singola</title>
    <style type="text/css">
        h1 {
            text-align: center;
        }

        .nonrispondo {
            text-align: right;
            float: right;
        }

        table.tab-risposte {
            margin-left: 5%;
        }

        table.tab-risposte td {
            padding: 0.5rem 1rem;
        }

        .valuta {
            margin-top: 2rem;
            text-align: center;
        }
    </style>
    <script type="text/javascript">

    function rimuoviRS(nomeRisposte) {
            var f = document.forms["test"];
            var radio = f[nomeRisposte];
            for (var i = 0; i < radio.length; i++) {
                radio[i].checked = false;
            }
    }

    function puntiRS(nomeRisposte, rispEsatta) {
            var f = document.forms["test"];
            var radio = f[nomeRisposte];
            var risp = "";
            for (var i = 0; i < radio.length; i++) {
                if (radio[i].checked) {
                    risp = radio[i].value;
                    break;
                }
            }
            var punti;
            if (risp == "")
                punti = 0;
            else if (risp == rispEsatta)
                punti = 1;
            else
                punti = -0.25;
            return punti;
    }

    function valuta() {
            const MAX_PUNTI = 1;
            var totale = puntiRS("r1", "C");
            var v = document.getElementById("visore");
            v.innerHTML = "<p>Punteggio ottenuto: <strong>" + totale +
                "/" + MAX_PUNTI + "</strong></p>";
            $('#dialogo').modal('show'); // Istruzione JQuery
        }

    </script>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">

    </head>

    <body>
    <div class="container">
        <h1>Quesito a risposta singola</h1>
        <form name="test">
            <h2>Quesito n. 1</h2>
            <p class="nonrispondo">
                <button type="button" class="btn btn-secondary btn-sm" onclick="rimuoviRS('r1');">Non rispondo</button>
            </p>
            <div class="testo">
                <p>
                    Nell&#39;orto di Marco ci sono 84 file di zucche. In ogni fila ci sono 57
                    zucche. <br />Quale tra i seguenti calcoli è il MIGLIORE per sapere in modo approssimato quante
                    zucche ci sono in tutto nell&#39;orto?
                </p>
            </div>
            <table class="tab-risposte">
                <tr>
                    <td><input type="radio" name="r1" value="A" /></td>
                    <td>100 x 50 = 5.000</td>
                </tr>
                <tr>
                    <td><input type="radio" name="r1" value="B" /></td>
                    <td>90 x 60 = 5.400</td>
                </tr>
                <tr>
                    <td><input type="radio" name="r1" value="C" /></td>
                    <td>80 x 60 = 4.800</td>
                </tr>
                <tr>
                    <td><input type="radio" name="r1" value="D" /></td>
                    <td>80 x 50 = 4.000</td>
                </tr>
                <tr>
                    <td><input type="radio" name="r1" value="E" /></td>
                    <td>80 x 80 = 6.400</td>
                </tr>
            </table>
        </form>
    </div>
    <p class="valuta">
        <button type="button" class="btn btn-primary" onclick="valuta();">
            Valuta
            risposte
        </button>
    </p>
    <div class="modal" id="dialogo">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">Risultato del test</h4>
                    <button type="button" class="close" data-dismiss="modal">
                        &times;
                    </button>
                </div>
                <div class="modal-body" id="visore"></div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" data-dismiss="modal">Chiudi</button>
                </div>
            </div>
        </div>
    </div>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
</body>

</html>
